{"ast":null,"code":"import z, { Fragment as me, createContext as ue, createRef as xe, useCallback as Ce, useContext as pe, useMemo as V, useReducer as ge, useRef as E, useEffect as se } from \"react\";\nimport { useComputed as te } from '../../hooks/use-computed.js';\nimport { useDisposables as ne } from '../../hooks/use-disposables.js';\nimport { useEvent as x } from '../../hooks/use-event.js';\nimport { useId as J } from '../../hooks/use-id.js';\nimport { useIsoMorphicEffect as _ } from '../../hooks/use-iso-morphic-effect.js';\nimport { useLatestValue as Oe } from '../../hooks/use-latest-value.js';\nimport { useOutsideClick as ye } from '../../hooks/use-outside-click.js';\nimport { useResolveButtonType as Re } from '../../hooks/use-resolve-button-type.js';\nimport { useSyncRefs as W } from '../../hooks/use-sync-refs.js';\nimport { useTreeWalker as ve } from '../../hooks/use-tree-walker.js';\nimport { calculateActiveIndex as Pe, Focus as R } from '../../utils/calculate-active-index.js';\nimport { disposables as be } from '../../utils/disposables.js';\nimport { forwardRefWithAs as k, render as w, compact as Ae, Features as de } from '../../utils/render.js';\nimport { isDisabledReactIssue7711 as Ee } from '../../utils/bugs.js';\nimport { match as U } from '../../utils/match.js';\nimport { objectToFormEntries as Se } from '../../utils/form.js';\nimport { sortByDomNode as Ie } from '../../utils/focus-management.js';\nimport { Hidden as Le, Features as De } from '../../internal/hidden.js';\nimport { useOpenClosed as Ve, State as ee, OpenClosedProvider as Fe } from '../../internal/open-closed.js';\nimport { Keys as A } from '../keyboard.js';\nimport { useControllable as _e } from '../../hooks/use-controllable.js';\nimport { useWatch as fe } from '../../hooks/use-watch.js';\nimport { useTrackedPointer as Me } from '../../hooks/use-tracked-pointer.js';\nimport { isMobile as he } from '../../utils/platform.js';\n\nvar Be = (e => (e[e.Open = 0] = \"Open\", e[e.Closed = 1] = \"Closed\", e))(Be || {}),\n    ke = (e => (e[e.Single = 0] = \"Single\", e[e.Multi = 1] = \"Multi\", e))(ke || {}),\n    we = (e => (e[e.Pointer = 0] = \"Pointer\", e[e.Other = 1] = \"Other\", e))(we || {}),\n    Ue = (n => (n[n.OpenCombobox = 0] = \"OpenCombobox\", n[n.CloseCombobox = 1] = \"CloseCombobox\", n[n.GoToOption = 2] = \"GoToOption\", n[n.RegisterOption = 3] = \"RegisterOption\", n[n.UnregisterOption = 4] = \"UnregisterOption\", n[n.RegisterLabel = 5] = \"RegisterLabel\", n))(Ue || {});\n\nfunction re(t) {\n  let l = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : e => e;\n  let e = t.activeOptionIndex !== null ? t.options[t.activeOptionIndex] : null,\n      r = Ie(l(t.options.slice()), s => s.dataRef.current.domRef.current),\n      i = e ? r.indexOf(e) : null;\n  return i === -1 && (i = null), {\n    options: r,\n    activeOptionIndex: i\n  };\n}\n\nlet Ne = {\n  [1](t) {\n    var l;\n    return (l = t.dataRef.current) != null && l.disabled || t.comboboxState === 1 ? t : { ...t,\n      activeOptionIndex: null,\n      comboboxState: 1\n    };\n  },\n\n  [0](t) {\n    var e;\n    if ((e = t.dataRef.current) != null && e.disabled || t.comboboxState === 0) return t;\n    let l = t.activeOptionIndex;\n\n    if (t.dataRef.current) {\n      let {\n        isSelected: r\n      } = t.dataRef.current,\n          i = t.options.findIndex(s => r(s.dataRef.current.value));\n      i !== -1 && (l = i);\n    }\n\n    return { ...t,\n      comboboxState: 0,\n      activeOptionIndex: l\n    };\n  },\n\n  [2](t, l) {\n    var i, s, n, d;\n    if ((i = t.dataRef.current) != null && i.disabled || (s = t.dataRef.current) != null && s.optionsRef.current && !((n = t.dataRef.current) != null && n.optionsPropsRef.current.static) && t.comboboxState === 1) return t;\n    let e = re(t);\n\n    if (e.activeOptionIndex === null) {\n      let o = e.options.findIndex(u => !u.dataRef.current.disabled);\n      o !== -1 && (e.activeOptionIndex = o);\n    }\n\n    let r = Pe(l, {\n      resolveItems: () => e.options,\n      resolveActiveIndex: () => e.activeOptionIndex,\n      resolveId: o => o.id,\n      resolveDisabled: o => o.dataRef.current.disabled\n    });\n    return { ...t,\n      ...e,\n      activeOptionIndex: r,\n      activationTrigger: (d = l.trigger) != null ? d : 1\n    };\n  },\n\n  [3]: (t, l) => {\n    var s, n;\n    let e = {\n      id: l.id,\n      dataRef: l.dataRef\n    },\n        r = re(t, d => [...d, e]);\n    t.activeOptionIndex === null && (s = t.dataRef.current) != null && s.isSelected(l.dataRef.current.value) && (r.activeOptionIndex = r.options.indexOf(e));\n    let i = { ...t,\n      ...r,\n      activationTrigger: 1\n    };\n    return (n = t.dataRef.current) != null && n.__demoMode && t.dataRef.current.value === void 0 && (i.activeOptionIndex = 0), i;\n  },\n  [4]: (t, l) => {\n    let e = re(t, r => {\n      let i = r.findIndex(s => s.id === l.id);\n      return i !== -1 && r.splice(i, 1), r;\n    });\n    return { ...t,\n      ...e,\n      activationTrigger: 1\n    };\n  },\n  [5]: (t, l) => ({ ...t,\n    labelId: l.id\n  })\n},\n    ae = ue(null);\nae.displayName = \"ComboboxActionsContext\";\n\nfunction $(t) {\n  let l = pe(ae);\n\n  if (l === null) {\n    let e = new Error(`<${t} /> is missing a parent <Combobox /> component.`);\n    throw Error.captureStackTrace && Error.captureStackTrace(e, $), e;\n  }\n\n  return l;\n}\n\nlet le = ue(null);\nle.displayName = \"ComboboxDataContext\";\n\nfunction N(t) {\n  let l = pe(le);\n\n  if (l === null) {\n    let e = new Error(`<${t} /> is missing a parent <Combobox /> component.`);\n    throw Error.captureStackTrace && Error.captureStackTrace(e, N), e;\n  }\n\n  return l;\n}\n\nfunction Ge(t, l) {\n  return U(l.type, Ne, t, l);\n}\n\nlet He = me;\n\nfunction Xe(t, l) {\n  let {\n    value: e,\n    defaultValue: r,\n    onChange: i,\n    name: s,\n    by: n = (p, T) => p === T,\n    disabled: d = !1,\n    __demoMode: o = !1,\n    nullable: u = !1,\n    multiple: P = !1,\n    ...f\n  } = t,\n      [g = P ? [] : void 0, m] = _e(e, i, r),\n      [O, c] = ge(Ge, {\n    dataRef: xe(),\n    comboboxState: o ? 0 : 1,\n    options: [],\n    activeOptionIndex: null,\n    activationTrigger: 1,\n    labelId: null\n  }),\n      C = E(!1),\n      G = E({\n    static: !1,\n    hold: !1\n  }),\n      F = E(null),\n      M = E(null),\n      h = E(null),\n      B = E(null),\n      D = x(typeof n == \"string\" ? (p, T) => {\n    let v = n;\n    return (p == null ? void 0 : p[v]) === (T == null ? void 0 : T[v]);\n  } : n),\n      H = Ce(p => U(b.mode, {\n    [1]: () => g.some(T => D(T, p)),\n    [0]: () => D(g, p)\n  }), [g]),\n      b = V(() => ({ ...O,\n    optionsPropsRef: G,\n    labelRef: F,\n    inputRef: M,\n    buttonRef: h,\n    optionsRef: B,\n    value: g,\n    defaultValue: r,\n    disabled: d,\n    mode: P ? 1 : 0,\n\n    get activeOptionIndex() {\n      if (C.current && O.activeOptionIndex === null && O.options.length > 0) {\n        let p = O.options.findIndex(T => !T.dataRef.current.disabled);\n        if (p !== -1) return p;\n      }\n\n      return O.activeOptionIndex;\n    },\n\n    compare: D,\n    isSelected: H,\n    nullable: u,\n    __demoMode: o\n  }), [g, r, d, P, u, o, O]),\n      L = E(b.activeOptionIndex !== null ? b.options[b.activeOptionIndex] : null);\n\n  se(() => {\n    let p = b.activeOptionIndex !== null ? b.options[b.activeOptionIndex] : null;\n    L.current !== p && (L.current = p);\n  }), _(() => {\n    O.dataRef.current = b;\n  }, [b]), ye([b.buttonRef, b.inputRef, b.optionsRef], () => oe.closeCombobox(), b.comboboxState === 0);\n  let y = V(() => ({\n    open: b.comboboxState === 0,\n    disabled: d,\n    activeIndex: b.activeOptionIndex,\n    activeOption: b.activeOptionIndex === null ? null : b.options[b.activeOptionIndex].dataRef.current.value,\n    value: g\n  }), [b, d, g]),\n      a = x(p => {\n    let T = b.options.find(v => v.id === p);\n    T && j(T.dataRef.current.value);\n  }),\n      I = x(() => {\n    if (b.activeOptionIndex !== null) {\n      let {\n        dataRef: p,\n        id: T\n      } = b.options[b.activeOptionIndex];\n      j(p.current.value), oe.goToOption(R.Specific, T);\n    }\n  }),\n      S = x(() => {\n    c({\n      type: 0\n    }), C.current = !0;\n  }),\n      X = x(() => {\n    c({\n      type: 1\n    }), C.current = !1;\n  }),\n      q = x((p, T, v) => (C.current = !1, p === R.Specific ? c({\n    type: 2,\n    focus: R.Specific,\n    id: T,\n    trigger: v\n  }) : c({\n    type: 2,\n    focus: p,\n    trigger: v\n  }))),\n      Q = x((p, T) => (c({\n    type: 3,\n    id: p,\n    dataRef: T\n  }), () => {\n    var v;\n    ((v = L.current) == null ? void 0 : v.id) === p && (C.current = !0), c({\n      type: 4,\n      id: p\n    });\n  })),\n      Y = x(p => (c({\n    type: 5,\n    id: p\n  }), () => c({\n    type: 5,\n    id: null\n  }))),\n      j = x(p => U(b.mode, {\n    [0]() {\n      return m == null ? void 0 : m(p);\n    },\n\n    [1]() {\n      let T = b.value.slice(),\n          v = T.findIndex(K => D(K, p));\n      return v === -1 ? T.push(p) : T.splice(v, 1), m == null ? void 0 : m(T);\n    }\n\n  })),\n      oe = V(() => ({\n    onChange: j,\n    registerOption: Q,\n    registerLabel: Y,\n    goToOption: q,\n    closeCombobox: X,\n    openCombobox: S,\n    selectActiveOption: I,\n    selectOption: a\n  }), []),\n      ce = l === null ? {} : {\n    ref: l\n  },\n      Z = E(null),\n      Te = ne();\n  return se(() => {\n    Z.current && r !== void 0 && Te.addEventListener(Z.current, \"reset\", () => {\n      j(r);\n    });\n  }, [Z, j]), z.createElement(ae.Provider, {\n    value: oe\n  }, z.createElement(le.Provider, {\n    value: b\n  }, z.createElement(Fe, {\n    value: U(b.comboboxState, {\n      [0]: ee.Open,\n      [1]: ee.Closed\n    })\n  }, s != null && g != null && Se({\n    [s]: g\n  }).map((_ref, v) => {\n    let [p, T] = _ref;\n    return z.createElement(Le, {\n      features: De.Hidden,\n      ref: v === 0 ? K => {\n        var ie;\n        Z.current = (ie = K == null ? void 0 : K.closest(\"form\")) != null ? ie : null;\n      } : void 0,\n      ...Ae({\n        key: p,\n        as: \"input\",\n        type: \"hidden\",\n        hidden: !0,\n        readOnly: !0,\n        name: p,\n        value: T\n      })\n    });\n  }), w({\n    ourProps: ce,\n    theirProps: f,\n    slot: y,\n    defaultTag: He,\n    name: \"Combobox\"\n  }))));\n}\n\nlet je = \"input\";\n\nfunction Ke(t, l) {\n  var H, b, L, y;\n\n  let e = J(),\n      {\n    id: r = `headlessui-combobox-input-${e}`,\n    onChange: i,\n    displayValue: s,\n    type: n = \"text\",\n    ...d\n  } = t,\n      o = N(\"Combobox.Input\"),\n      u = $(\"Combobox.Input\"),\n      P = W(o.inputRef, l),\n      f = E(!1),\n      g = ne(),\n      m = function () {\n    var a;\n    return typeof s == \"function\" && o.value !== void 0 ? (a = s(o.value)) != null ? a : \"\" : typeof o.value == \"string\" ? o.value : \"\";\n  }();\n\n  fe((_ref2, _ref3) => {\n    let [a, I] = _ref2;\n    let [S, X] = _ref3;\n    f.current || o.inputRef.current && (X === 0 && I === 1 || a !== S) && (o.inputRef.current.value = a);\n  }, [m, o.comboboxState]), fe((_ref4, _ref5) => {\n    let [a] = _ref4;\n    let [I] = _ref5;\n\n    if (a === 0 && I === 1) {\n      let S = o.inputRef.current;\n      if (!S) return;\n      let X = S.value,\n          {\n        selectionStart: q,\n        selectionEnd: Q,\n        selectionDirection: Y\n      } = S;\n      S.value = \"\", S.value = X, Y !== null ? S.setSelectionRange(q, Q, Y) : S.setSelectionRange(q, Q);\n    }\n  }, [o.comboboxState]);\n  let O = E(!1),\n      c = x(() => {\n    O.current = !0;\n  }),\n      C = x(() => {\n    setTimeout(() => {\n      O.current = !1;\n    });\n  }),\n      G = x(a => {\n    switch (f.current = !0, a.key) {\n      case A.Backspace:\n      case A.Delete:\n        if (o.mode !== 0 || !o.nullable) return;\n        let I = a.currentTarget;\n        g.requestAnimationFrame(() => {\n          I.value === \"\" && (u.onChange(null), o.optionsRef.current && (o.optionsRef.current.scrollTop = 0), u.goToOption(R.Nothing));\n        });\n        break;\n\n      case A.Enter:\n        if (f.current = !1, o.comboboxState !== 0 || O.current) return;\n\n        if (a.preventDefault(), a.stopPropagation(), o.activeOptionIndex === null) {\n          u.closeCombobox();\n          return;\n        }\n\n        u.selectActiveOption(), o.mode === 0 && u.closeCombobox();\n        break;\n\n      case A.ArrowDown:\n        return f.current = !1, a.preventDefault(), a.stopPropagation(), U(o.comboboxState, {\n          [0]: () => {\n            u.goToOption(R.Next);\n          },\n          [1]: () => {\n            u.openCombobox();\n          }\n        });\n\n      case A.ArrowUp:\n        return f.current = !1, a.preventDefault(), a.stopPropagation(), U(o.comboboxState, {\n          [0]: () => {\n            u.goToOption(R.Previous);\n          },\n          [1]: () => {\n            u.openCombobox(), g.nextFrame(() => {\n              o.value || u.goToOption(R.Last);\n            });\n          }\n        });\n\n      case A.Home:\n        if (a.shiftKey) break;\n        return f.current = !1, a.preventDefault(), a.stopPropagation(), u.goToOption(R.First);\n\n      case A.PageUp:\n        return f.current = !1, a.preventDefault(), a.stopPropagation(), u.goToOption(R.First);\n\n      case A.End:\n        if (a.shiftKey) break;\n        return f.current = !1, a.preventDefault(), a.stopPropagation(), u.goToOption(R.Last);\n\n      case A.PageDown:\n        return f.current = !1, a.preventDefault(), a.stopPropagation(), u.goToOption(R.Last);\n\n      case A.Escape:\n        return f.current = !1, o.comboboxState !== 0 ? void 0 : (a.preventDefault(), o.optionsRef.current && !o.optionsPropsRef.current.static && a.stopPropagation(), u.closeCombobox());\n\n      case A.Tab:\n        if (f.current = !1, o.comboboxState !== 0) return;\n        o.mode === 0 && u.selectActiveOption(), u.closeCombobox();\n        break;\n    }\n  }),\n      F = x(a => {\n    u.openCombobox(), i == null || i(a);\n  }),\n      M = x(() => {\n    f.current = !1;\n  }),\n      h = te(() => {\n    if (o.labelId) return [o.labelId].join(\" \");\n  }, [o.labelId]),\n      B = V(() => ({\n    open: o.comboboxState === 0,\n    disabled: o.disabled\n  }), [o]),\n      D = {\n    ref: P,\n    id: r,\n    role: \"combobox\",\n    type: n,\n    \"aria-controls\": (H = o.optionsRef.current) == null ? void 0 : H.id,\n    \"aria-expanded\": o.disabled ? void 0 : o.comboboxState === 0,\n    \"aria-activedescendant\": o.activeOptionIndex === null || (b = o.options[o.activeOptionIndex]) == null ? void 0 : b.id,\n    \"aria-labelledby\": h,\n    \"aria-autocomplete\": \"list\",\n    defaultValue: (y = (L = t.defaultValue) != null ? L : o.defaultValue !== void 0 ? s == null ? void 0 : s(o.defaultValue) : null) != null ? y : o.defaultValue,\n    disabled: o.disabled,\n    onCompositionStart: c,\n    onCompositionEnd: C,\n    onKeyDown: G,\n    onChange: F,\n    onBlur: M\n  };\n  return w({\n    ourProps: D,\n    theirProps: d,\n    slot: B,\n    defaultTag: je,\n    name: \"Combobox.Input\"\n  });\n}\n\nlet Je = \"button\";\n\nfunction We(t, l) {\n  var O;\n  let e = N(\"Combobox.Button\"),\n      r = $(\"Combobox.Button\"),\n      i = W(e.buttonRef, l),\n      s = J(),\n      {\n    id: n = `headlessui-combobox-button-${s}`,\n    ...d\n  } = t,\n      o = ne(),\n      u = x(c => {\n    switch (c.key) {\n      case A.ArrowDown:\n        return c.preventDefault(), c.stopPropagation(), e.comboboxState === 1 && r.openCombobox(), o.nextFrame(() => {\n          var C;\n          return (C = e.inputRef.current) == null ? void 0 : C.focus({\n            preventScroll: !0\n          });\n        });\n\n      case A.ArrowUp:\n        return c.preventDefault(), c.stopPropagation(), e.comboboxState === 1 && (r.openCombobox(), o.nextFrame(() => {\n          e.value || r.goToOption(R.Last);\n        })), o.nextFrame(() => {\n          var C;\n          return (C = e.inputRef.current) == null ? void 0 : C.focus({\n            preventScroll: !0\n          });\n        });\n\n      case A.Escape:\n        return e.comboboxState !== 0 ? void 0 : (c.preventDefault(), e.optionsRef.current && !e.optionsPropsRef.current.static && c.stopPropagation(), r.closeCombobox(), o.nextFrame(() => {\n          var C;\n          return (C = e.inputRef.current) == null ? void 0 : C.focus({\n            preventScroll: !0\n          });\n        }));\n\n      default:\n        return;\n    }\n  }),\n      P = x(c => {\n    if (Ee(c.currentTarget)) return c.preventDefault();\n    e.comboboxState === 0 ? r.closeCombobox() : (c.preventDefault(), r.openCombobox()), o.nextFrame(() => {\n      var C;\n      return (C = e.inputRef.current) == null ? void 0 : C.focus({\n        preventScroll: !0\n      });\n    });\n  }),\n      f = te(() => {\n    if (e.labelId) return [e.labelId, n].join(\" \");\n  }, [e.labelId, n]),\n      g = V(() => ({\n    open: e.comboboxState === 0,\n    disabled: e.disabled,\n    value: e.value\n  }), [e]),\n      m = {\n    ref: i,\n    id: n,\n    type: Re(t, e.buttonRef),\n    tabIndex: -1,\n    \"aria-haspopup\": \"listbox\",\n    \"aria-controls\": (O = e.optionsRef.current) == null ? void 0 : O.id,\n    \"aria-expanded\": e.disabled ? void 0 : e.comboboxState === 0,\n    \"aria-labelledby\": f,\n    disabled: e.disabled,\n    onClick: P,\n    onKeyDown: u\n  };\n  return w({\n    ourProps: m,\n    theirProps: d,\n    slot: g,\n    defaultTag: Je,\n    name: \"Combobox.Button\"\n  });\n}\n\nlet $e = \"label\";\n\nfunction qe(t, l) {\n  let e = J(),\n      {\n    id: r = `headlessui-combobox-label-${e}`,\n    ...i\n  } = t,\n      s = N(\"Combobox.Label\"),\n      n = $(\"Combobox.Label\"),\n      d = W(s.labelRef, l);\n\n  _(() => n.registerLabel(r), [r]);\n\n  let o = x(() => {\n    var f;\n    return (f = s.inputRef.current) == null ? void 0 : f.focus({\n      preventScroll: !0\n    });\n  }),\n      u = V(() => ({\n    open: s.comboboxState === 0,\n    disabled: s.disabled\n  }), [s]);\n  return w({\n    ourProps: {\n      ref: d,\n      id: r,\n      onClick: o\n    },\n    theirProps: i,\n    slot: u,\n    defaultTag: $e,\n    name: \"Combobox.Label\"\n  });\n}\n\nlet Qe = \"ul\",\n    Ye = de.RenderStrategy | de.Static;\n\nfunction Ze(t, l) {\n  let e = J(),\n      {\n    id: r = `headlessui-combobox-options-${e}`,\n    hold: i = !1,\n    ...s\n  } = t,\n      n = N(\"Combobox.Options\"),\n      d = W(n.optionsRef, l),\n      o = Ve(),\n      u = (() => o !== null ? (o & ee.Open) === ee.Open : n.comboboxState === 0)();\n\n  _(() => {\n    var m;\n    n.optionsPropsRef.current.static = (m = t.static) != null ? m : !1;\n  }, [n.optionsPropsRef, t.static]), _(() => {\n    n.optionsPropsRef.current.hold = i;\n  }, [n.optionsPropsRef, i]), ve({\n    container: n.optionsRef.current,\n    enabled: n.comboboxState === 0,\n\n    accept(m) {\n      return m.getAttribute(\"role\") === \"option\" ? NodeFilter.FILTER_REJECT : m.hasAttribute(\"role\") ? NodeFilter.FILTER_SKIP : NodeFilter.FILTER_ACCEPT;\n    },\n\n    walk(m) {\n      m.setAttribute(\"role\", \"none\");\n    }\n\n  });\n  let P = te(() => {\n    var m, O;\n    return (O = n.labelId) != null ? O : (m = n.buttonRef.current) == null ? void 0 : m.id;\n  }, [n.labelId, n.buttonRef.current]),\n      f = V(() => ({\n    open: n.comboboxState === 0\n  }), [n]),\n      g = {\n    \"aria-labelledby\": P,\n    role: \"listbox\",\n    \"aria-multiselectable\": n.mode === 1 ? !0 : void 0,\n    id: r,\n    ref: d\n  };\n  return w({\n    ourProps: g,\n    theirProps: s,\n    slot: f,\n    defaultTag: Qe,\n    features: Ye,\n    visible: u,\n    name: \"Combobox.Options\"\n  });\n}\n\nlet ze = \"li\";\n\nfunction eo(t, l) {\n  var b, L;\n  let e = J(),\n      {\n    id: r = `headlessui-combobox-option-${e}`,\n    disabled: i = !1,\n    value: s,\n    ...n\n  } = t,\n      d = N(\"Combobox.Option\"),\n      o = $(\"Combobox.Option\"),\n      u = d.activeOptionIndex !== null ? d.options[d.activeOptionIndex].id === r : !1,\n      P = d.isSelected(s),\n      f = E(null),\n      g = Oe({\n    disabled: i,\n    value: s,\n    domRef: f,\n    textValue: (L = (b = f.current) == null ? void 0 : b.textContent) == null ? void 0 : L.toLowerCase()\n  }),\n      m = W(l, f),\n      O = x(() => o.selectOption(r));\n\n  _(() => o.registerOption(r, g), [g, r]);\n\n  let c = E(!d.__demoMode);\n  _(() => {\n    if (!d.__demoMode) return;\n    let y = be();\n    return y.requestAnimationFrame(() => {\n      c.current = !0;\n    }), y.dispose;\n  }, []), _(() => {\n    if (d.comboboxState !== 0 || !u || !c.current || d.activationTrigger === 0) return;\n    let y = be();\n    return y.requestAnimationFrame(() => {\n      var a, I;\n      (I = (a = f.current) == null ? void 0 : a.scrollIntoView) == null || I.call(a, {\n        block: \"nearest\"\n      });\n    }), y.dispose;\n  }, [f, u, d.comboboxState, d.activationTrigger, d.activeOptionIndex]);\n  let C = x(y => {\n    if (i) return y.preventDefault();\n    O(), d.mode === 0 && o.closeCombobox(), he() || requestAnimationFrame(() => {\n      var a;\n      return (a = d.inputRef.current) == null ? void 0 : a.focus();\n    });\n  }),\n      G = x(() => {\n    if (i) return o.goToOption(R.Nothing);\n    o.goToOption(R.Specific, r);\n  }),\n      F = Me(),\n      M = x(y => F.update(y)),\n      h = x(y => {\n    F.wasMoved(y) && (i || u || o.goToOption(R.Specific, r, 0));\n  }),\n      B = x(y => {\n    F.wasMoved(y) && (i || u && (d.optionsPropsRef.current.hold || o.goToOption(R.Nothing)));\n  }),\n      D = V(() => ({\n    active: u,\n    selected: P,\n    disabled: i\n  }), [u, P, i]);\n  return w({\n    ourProps: {\n      id: r,\n      ref: m,\n      role: \"option\",\n      tabIndex: i === !0 ? void 0 : -1,\n      \"aria-disabled\": i === !0 ? !0 : void 0,\n      \"aria-selected\": P,\n      disabled: void 0,\n      onClick: C,\n      onFocus: G,\n      onPointerEnter: M,\n      onMouseEnter: M,\n      onPointerMove: h,\n      onMouseMove: h,\n      onPointerLeave: B,\n      onMouseLeave: B\n    },\n    theirProps: n,\n    slot: D,\n    defaultTag: ze,\n    name: \"Combobox.Option\"\n  });\n}\n\nlet oo = k(Xe),\n    to = k(We),\n    no = k(Ke),\n    ro = k(qe),\n    ao = k(Ze),\n    lo = k(eo),\n    Jo = Object.assign(oo, {\n  Input: no,\n  Button: to,\n  Label: ro,\n  Options: ao,\n  Option: lo\n});\nexport { Jo as Combobox };","map":{"version":3,"sources":["D:/Code/react+node/blog/client/node_modules/@headlessui/react/dist/components/combobox/combobox.js"],"names":["z","Fragment","me","createContext","ue","createRef","xe","useCallback","Ce","useContext","pe","useMemo","V","useReducer","ge","useRef","E","useEffect","se","useComputed","te","useDisposables","ne","useEvent","x","useId","J","useIsoMorphicEffect","_","useLatestValue","Oe","useOutsideClick","ye","useResolveButtonType","Re","useSyncRefs","W","useTreeWalker","ve","calculateActiveIndex","Pe","Focus","R","disposables","be","forwardRefWithAs","k","render","w","compact","Ae","Features","de","isDisabledReactIssue7711","Ee","match","U","objectToFormEntries","Se","sortByDomNode","Ie","Hidden","Le","De","useOpenClosed","Ve","State","ee","OpenClosedProvider","Fe","Keys","A","useControllable","_e","useWatch","fe","useTrackedPointer","Me","isMobile","he","Be","e","Open","Closed","ke","Single","Multi","we","Pointer","Other","Ue","n","OpenCombobox","CloseCombobox","GoToOption","RegisterOption","UnregisterOption","RegisterLabel","re","t","l","activeOptionIndex","options","r","slice","s","dataRef","current","domRef","i","indexOf","Ne","disabled","comboboxState","isSelected","findIndex","value","d","optionsRef","optionsPropsRef","static","o","u","resolveItems","resolveActiveIndex","resolveId","id","resolveDisabled","activationTrigger","trigger","__demoMode","splice","labelId","ae","displayName","$","Error","captureStackTrace","le","N","Ge","type","He","Xe","defaultValue","onChange","name","by","p","T","nullable","multiple","P","f","g","m","O","c","C","G","hold","F","M","h","B","D","v","H","b","mode","some","labelRef","inputRef","buttonRef","length","compare","L","oe","closeCombobox","y","open","activeIndex","activeOption","a","find","j","I","goToOption","Specific","S","X","q","focus","Q","Y","K","push","registerOption","registerLabel","openCombobox","selectActiveOption","selectOption","ce","ref","Z","Te","addEventListener","createElement","Provider","map","features","ie","closest","key","as","hidden","readOnly","ourProps","theirProps","slot","defaultTag","je","Ke","displayValue","selectionStart","selectionEnd","selectionDirection","setSelectionRange","setTimeout","Backspace","Delete","currentTarget","requestAnimationFrame","scrollTop","Nothing","Enter","preventDefault","stopPropagation","ArrowDown","Next","ArrowUp","Previous","nextFrame","Last","Home","shiftKey","First","PageUp","End","PageDown","Escape","Tab","join","role","onCompositionStart","onCompositionEnd","onKeyDown","onBlur","Je","We","preventScroll","tabIndex","onClick","$e","qe","Qe","Ye","RenderStrategy","Static","Ze","container","enabled","accept","getAttribute","NodeFilter","FILTER_REJECT","hasAttribute","FILTER_SKIP","FILTER_ACCEPT","walk","setAttribute","visible","ze","eo","textValue","textContent","toLowerCase","dispose","scrollIntoView","call","block","update","wasMoved","active","selected","onFocus","onPointerEnter","onMouseEnter","onPointerMove","onMouseMove","onPointerLeave","onMouseLeave","oo","to","no","ro","ao","lo","Jo","Object","assign","Input","Button","Label","Options","Option","Combobox"],"mappings":"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","sourcesContent":["import z,{Fragment as me,createContext as ue,createRef as xe,useCallback as Ce,useContext as pe,useMemo as V,useReducer as ge,useRef as E,useEffect as se}from\"react\";import{useComputed as te}from'../../hooks/use-computed.js';import{useDisposables as ne}from'../../hooks/use-disposables.js';import{useEvent as x}from'../../hooks/use-event.js';import{useId as J}from'../../hooks/use-id.js';import{useIsoMorphicEffect as _}from'../../hooks/use-iso-morphic-effect.js';import{useLatestValue as Oe}from'../../hooks/use-latest-value.js';import{useOutsideClick as ye}from'../../hooks/use-outside-click.js';import{useResolveButtonType as Re}from'../../hooks/use-resolve-button-type.js';import{useSyncRefs as W}from'../../hooks/use-sync-refs.js';import{useTreeWalker as ve}from'../../hooks/use-tree-walker.js';import{calculateActiveIndex as Pe,Focus as R}from'../../utils/calculate-active-index.js';import{disposables as be}from'../../utils/disposables.js';import{forwardRefWithAs as k,render as w,compact as Ae,Features as de}from'../../utils/render.js';import{isDisabledReactIssue7711 as Ee}from'../../utils/bugs.js';import{match as U}from'../../utils/match.js';import{objectToFormEntries as Se}from'../../utils/form.js';import{sortByDomNode as Ie}from'../../utils/focus-management.js';import{Hidden as Le,Features as De}from'../../internal/hidden.js';import{useOpenClosed as Ve,State as ee,OpenClosedProvider as Fe}from'../../internal/open-closed.js';import{Keys as A}from'../keyboard.js';import{useControllable as _e}from'../../hooks/use-controllable.js';import{useWatch as fe}from'../../hooks/use-watch.js';import{useTrackedPointer as Me}from'../../hooks/use-tracked-pointer.js';import{isMobile as he}from'../../utils/platform.js';var Be=(e=>(e[e.Open=0]=\"Open\",e[e.Closed=1]=\"Closed\",e))(Be||{}),ke=(e=>(e[e.Single=0]=\"Single\",e[e.Multi=1]=\"Multi\",e))(ke||{}),we=(e=>(e[e.Pointer=0]=\"Pointer\",e[e.Other=1]=\"Other\",e))(we||{}),Ue=(n=>(n[n.OpenCombobox=0]=\"OpenCombobox\",n[n.CloseCombobox=1]=\"CloseCombobox\",n[n.GoToOption=2]=\"GoToOption\",n[n.RegisterOption=3]=\"RegisterOption\",n[n.UnregisterOption=4]=\"UnregisterOption\",n[n.RegisterLabel=5]=\"RegisterLabel\",n))(Ue||{});function re(t,l=e=>e){let e=t.activeOptionIndex!==null?t.options[t.activeOptionIndex]:null,r=Ie(l(t.options.slice()),s=>s.dataRef.current.domRef.current),i=e?r.indexOf(e):null;return i===-1&&(i=null),{options:r,activeOptionIndex:i}}let Ne={[1](t){var l;return(l=t.dataRef.current)!=null&&l.disabled||t.comboboxState===1?t:{...t,activeOptionIndex:null,comboboxState:1}},[0](t){var e;if((e=t.dataRef.current)!=null&&e.disabled||t.comboboxState===0)return t;let l=t.activeOptionIndex;if(t.dataRef.current){let{isSelected:r}=t.dataRef.current,i=t.options.findIndex(s=>r(s.dataRef.current.value));i!==-1&&(l=i)}return{...t,comboboxState:0,activeOptionIndex:l}},[2](t,l){var i,s,n,d;if((i=t.dataRef.current)!=null&&i.disabled||(s=t.dataRef.current)!=null&&s.optionsRef.current&&!((n=t.dataRef.current)!=null&&n.optionsPropsRef.current.static)&&t.comboboxState===1)return t;let e=re(t);if(e.activeOptionIndex===null){let o=e.options.findIndex(u=>!u.dataRef.current.disabled);o!==-1&&(e.activeOptionIndex=o)}let r=Pe(l,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:o=>o.id,resolveDisabled:o=>o.dataRef.current.disabled});return{...t,...e,activeOptionIndex:r,activationTrigger:(d=l.trigger)!=null?d:1}},[3]:(t,l)=>{var s,n;let e={id:l.id,dataRef:l.dataRef},r=re(t,d=>[...d,e]);t.activeOptionIndex===null&&(s=t.dataRef.current)!=null&&s.isSelected(l.dataRef.current.value)&&(r.activeOptionIndex=r.options.indexOf(e));let i={...t,...r,activationTrigger:1};return(n=t.dataRef.current)!=null&&n.__demoMode&&t.dataRef.current.value===void 0&&(i.activeOptionIndex=0),i},[4]:(t,l)=>{let e=re(t,r=>{let i=r.findIndex(s=>s.id===l.id);return i!==-1&&r.splice(i,1),r});return{...t,...e,activationTrigger:1}},[5]:(t,l)=>({...t,labelId:l.id})},ae=ue(null);ae.displayName=\"ComboboxActionsContext\";function $(t){let l=pe(ae);if(l===null){let e=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(e,$),e}return l}let le=ue(null);le.displayName=\"ComboboxDataContext\";function N(t){let l=pe(le);if(l===null){let e=new Error(`<${t} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(e,N),e}return l}function Ge(t,l){return U(l.type,Ne,t,l)}let He=me;function Xe(t,l){let{value:e,defaultValue:r,onChange:i,name:s,by:n=(p,T)=>p===T,disabled:d=!1,__demoMode:o=!1,nullable:u=!1,multiple:P=!1,...f}=t,[g=P?[]:void 0,m]=_e(e,i,r),[O,c]=ge(Ge,{dataRef:xe(),comboboxState:o?0:1,options:[],activeOptionIndex:null,activationTrigger:1,labelId:null}),C=E(!1),G=E({static:!1,hold:!1}),F=E(null),M=E(null),h=E(null),B=E(null),D=x(typeof n==\"string\"?(p,T)=>{let v=n;return(p==null?void 0:p[v])===(T==null?void 0:T[v])}:n),H=Ce(p=>U(b.mode,{[1]:()=>g.some(T=>D(T,p)),[0]:()=>D(g,p)}),[g]),b=V(()=>({...O,optionsPropsRef:G,labelRef:F,inputRef:M,buttonRef:h,optionsRef:B,value:g,defaultValue:r,disabled:d,mode:P?1:0,get activeOptionIndex(){if(C.current&&O.activeOptionIndex===null&&O.options.length>0){let p=O.options.findIndex(T=>!T.dataRef.current.disabled);if(p!==-1)return p}return O.activeOptionIndex},compare:D,isSelected:H,nullable:u,__demoMode:o}),[g,r,d,P,u,o,O]),L=E(b.activeOptionIndex!==null?b.options[b.activeOptionIndex]:null);se(()=>{let p=b.activeOptionIndex!==null?b.options[b.activeOptionIndex]:null;L.current!==p&&(L.current=p)}),_(()=>{O.dataRef.current=b},[b]),ye([b.buttonRef,b.inputRef,b.optionsRef],()=>oe.closeCombobox(),b.comboboxState===0);let y=V(()=>({open:b.comboboxState===0,disabled:d,activeIndex:b.activeOptionIndex,activeOption:b.activeOptionIndex===null?null:b.options[b.activeOptionIndex].dataRef.current.value,value:g}),[b,d,g]),a=x(p=>{let T=b.options.find(v=>v.id===p);T&&j(T.dataRef.current.value)}),I=x(()=>{if(b.activeOptionIndex!==null){let{dataRef:p,id:T}=b.options[b.activeOptionIndex];j(p.current.value),oe.goToOption(R.Specific,T)}}),S=x(()=>{c({type:0}),C.current=!0}),X=x(()=>{c({type:1}),C.current=!1}),q=x((p,T,v)=>(C.current=!1,p===R.Specific?c({type:2,focus:R.Specific,id:T,trigger:v}):c({type:2,focus:p,trigger:v}))),Q=x((p,T)=>(c({type:3,id:p,dataRef:T}),()=>{var v;((v=L.current)==null?void 0:v.id)===p&&(C.current=!0),c({type:4,id:p})})),Y=x(p=>(c({type:5,id:p}),()=>c({type:5,id:null}))),j=x(p=>U(b.mode,{[0](){return m==null?void 0:m(p)},[1](){let T=b.value.slice(),v=T.findIndex(K=>D(K,p));return v===-1?T.push(p):T.splice(v,1),m==null?void 0:m(T)}})),oe=V(()=>({onChange:j,registerOption:Q,registerLabel:Y,goToOption:q,closeCombobox:X,openCombobox:S,selectActiveOption:I,selectOption:a}),[]),ce=l===null?{}:{ref:l},Z=E(null),Te=ne();return se(()=>{Z.current&&r!==void 0&&Te.addEventListener(Z.current,\"reset\",()=>{j(r)})},[Z,j]),z.createElement(ae.Provider,{value:oe},z.createElement(le.Provider,{value:b},z.createElement(Fe,{value:U(b.comboboxState,{[0]:ee.Open,[1]:ee.Closed})},s!=null&&g!=null&&Se({[s]:g}).map(([p,T],v)=>z.createElement(Le,{features:De.Hidden,ref:v===0?K=>{var ie;Z.current=(ie=K==null?void 0:K.closest(\"form\"))!=null?ie:null}:void 0,...Ae({key:p,as:\"input\",type:\"hidden\",hidden:!0,readOnly:!0,name:p,value:T})})),w({ourProps:ce,theirProps:f,slot:y,defaultTag:He,name:\"Combobox\"}))))}let je=\"input\";function Ke(t,l){var H,b,L,y;let e=J(),{id:r=`headlessui-combobox-input-${e}`,onChange:i,displayValue:s,type:n=\"text\",...d}=t,o=N(\"Combobox.Input\"),u=$(\"Combobox.Input\"),P=W(o.inputRef,l),f=E(!1),g=ne(),m=function(){var a;return typeof s==\"function\"&&o.value!==void 0?(a=s(o.value))!=null?a:\"\":typeof o.value==\"string\"?o.value:\"\"}();fe(([a,I],[S,X])=>{f.current||o.inputRef.current&&(X===0&&I===1||a!==S)&&(o.inputRef.current.value=a)},[m,o.comboboxState]),fe(([a],[I])=>{if(a===0&&I===1){let S=o.inputRef.current;if(!S)return;let X=S.value,{selectionStart:q,selectionEnd:Q,selectionDirection:Y}=S;S.value=\"\",S.value=X,Y!==null?S.setSelectionRange(q,Q,Y):S.setSelectionRange(q,Q)}},[o.comboboxState]);let O=E(!1),c=x(()=>{O.current=!0}),C=x(()=>{setTimeout(()=>{O.current=!1})}),G=x(a=>{switch(f.current=!0,a.key){case A.Backspace:case A.Delete:if(o.mode!==0||!o.nullable)return;let I=a.currentTarget;g.requestAnimationFrame(()=>{I.value===\"\"&&(u.onChange(null),o.optionsRef.current&&(o.optionsRef.current.scrollTop=0),u.goToOption(R.Nothing))});break;case A.Enter:if(f.current=!1,o.comboboxState!==0||O.current)return;if(a.preventDefault(),a.stopPropagation(),o.activeOptionIndex===null){u.closeCombobox();return}u.selectActiveOption(),o.mode===0&&u.closeCombobox();break;case A.ArrowDown:return f.current=!1,a.preventDefault(),a.stopPropagation(),U(o.comboboxState,{[0]:()=>{u.goToOption(R.Next)},[1]:()=>{u.openCombobox()}});case A.ArrowUp:return f.current=!1,a.preventDefault(),a.stopPropagation(),U(o.comboboxState,{[0]:()=>{u.goToOption(R.Previous)},[1]:()=>{u.openCombobox(),g.nextFrame(()=>{o.value||u.goToOption(R.Last)})}});case A.Home:if(a.shiftKey)break;return f.current=!1,a.preventDefault(),a.stopPropagation(),u.goToOption(R.First);case A.PageUp:return f.current=!1,a.preventDefault(),a.stopPropagation(),u.goToOption(R.First);case A.End:if(a.shiftKey)break;return f.current=!1,a.preventDefault(),a.stopPropagation(),u.goToOption(R.Last);case A.PageDown:return f.current=!1,a.preventDefault(),a.stopPropagation(),u.goToOption(R.Last);case A.Escape:return f.current=!1,o.comboboxState!==0?void 0:(a.preventDefault(),o.optionsRef.current&&!o.optionsPropsRef.current.static&&a.stopPropagation(),u.closeCombobox());case A.Tab:if(f.current=!1,o.comboboxState!==0)return;o.mode===0&&u.selectActiveOption(),u.closeCombobox();break}}),F=x(a=>{u.openCombobox(),i==null||i(a)}),M=x(()=>{f.current=!1}),h=te(()=>{if(o.labelId)return[o.labelId].join(\" \")},[o.labelId]),B=V(()=>({open:o.comboboxState===0,disabled:o.disabled}),[o]),D={ref:P,id:r,role:\"combobox\",type:n,\"aria-controls\":(H=o.optionsRef.current)==null?void 0:H.id,\"aria-expanded\":o.disabled?void 0:o.comboboxState===0,\"aria-activedescendant\":o.activeOptionIndex===null||(b=o.options[o.activeOptionIndex])==null?void 0:b.id,\"aria-labelledby\":h,\"aria-autocomplete\":\"list\",defaultValue:(y=(L=t.defaultValue)!=null?L:o.defaultValue!==void 0?s==null?void 0:s(o.defaultValue):null)!=null?y:o.defaultValue,disabled:o.disabled,onCompositionStart:c,onCompositionEnd:C,onKeyDown:G,onChange:F,onBlur:M};return w({ourProps:D,theirProps:d,slot:B,defaultTag:je,name:\"Combobox.Input\"})}let Je=\"button\";function We(t,l){var O;let e=N(\"Combobox.Button\"),r=$(\"Combobox.Button\"),i=W(e.buttonRef,l),s=J(),{id:n=`headlessui-combobox-button-${s}`,...d}=t,o=ne(),u=x(c=>{switch(c.key){case A.ArrowDown:return c.preventDefault(),c.stopPropagation(),e.comboboxState===1&&r.openCombobox(),o.nextFrame(()=>{var C;return(C=e.inputRef.current)==null?void 0:C.focus({preventScroll:!0})});case A.ArrowUp:return c.preventDefault(),c.stopPropagation(),e.comboboxState===1&&(r.openCombobox(),o.nextFrame(()=>{e.value||r.goToOption(R.Last)})),o.nextFrame(()=>{var C;return(C=e.inputRef.current)==null?void 0:C.focus({preventScroll:!0})});case A.Escape:return e.comboboxState!==0?void 0:(c.preventDefault(),e.optionsRef.current&&!e.optionsPropsRef.current.static&&c.stopPropagation(),r.closeCombobox(),o.nextFrame(()=>{var C;return(C=e.inputRef.current)==null?void 0:C.focus({preventScroll:!0})}));default:return}}),P=x(c=>{if(Ee(c.currentTarget))return c.preventDefault();e.comboboxState===0?r.closeCombobox():(c.preventDefault(),r.openCombobox()),o.nextFrame(()=>{var C;return(C=e.inputRef.current)==null?void 0:C.focus({preventScroll:!0})})}),f=te(()=>{if(e.labelId)return[e.labelId,n].join(\" \")},[e.labelId,n]),g=V(()=>({open:e.comboboxState===0,disabled:e.disabled,value:e.value}),[e]),m={ref:i,id:n,type:Re(t,e.buttonRef),tabIndex:-1,\"aria-haspopup\":\"listbox\",\"aria-controls\":(O=e.optionsRef.current)==null?void 0:O.id,\"aria-expanded\":e.disabled?void 0:e.comboboxState===0,\"aria-labelledby\":f,disabled:e.disabled,onClick:P,onKeyDown:u};return w({ourProps:m,theirProps:d,slot:g,defaultTag:Je,name:\"Combobox.Button\"})}let $e=\"label\";function qe(t,l){let e=J(),{id:r=`headlessui-combobox-label-${e}`,...i}=t,s=N(\"Combobox.Label\"),n=$(\"Combobox.Label\"),d=W(s.labelRef,l);_(()=>n.registerLabel(r),[r]);let o=x(()=>{var f;return(f=s.inputRef.current)==null?void 0:f.focus({preventScroll:!0})}),u=V(()=>({open:s.comboboxState===0,disabled:s.disabled}),[s]);return w({ourProps:{ref:d,id:r,onClick:o},theirProps:i,slot:u,defaultTag:$e,name:\"Combobox.Label\"})}let Qe=\"ul\",Ye=de.RenderStrategy|de.Static;function Ze(t,l){let e=J(),{id:r=`headlessui-combobox-options-${e}`,hold:i=!1,...s}=t,n=N(\"Combobox.Options\"),d=W(n.optionsRef,l),o=Ve(),u=(()=>o!==null?(o&ee.Open)===ee.Open:n.comboboxState===0)();_(()=>{var m;n.optionsPropsRef.current.static=(m=t.static)!=null?m:!1},[n.optionsPropsRef,t.static]),_(()=>{n.optionsPropsRef.current.hold=i},[n.optionsPropsRef,i]),ve({container:n.optionsRef.current,enabled:n.comboboxState===0,accept(m){return m.getAttribute(\"role\")===\"option\"?NodeFilter.FILTER_REJECT:m.hasAttribute(\"role\")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(m){m.setAttribute(\"role\",\"none\")}});let P=te(()=>{var m,O;return(O=n.labelId)!=null?O:(m=n.buttonRef.current)==null?void 0:m.id},[n.labelId,n.buttonRef.current]),f=V(()=>({open:n.comboboxState===0}),[n]),g={\"aria-labelledby\":P,role:\"listbox\",\"aria-multiselectable\":n.mode===1?!0:void 0,id:r,ref:d};return w({ourProps:g,theirProps:s,slot:f,defaultTag:Qe,features:Ye,visible:u,name:\"Combobox.Options\"})}let ze=\"li\";function eo(t,l){var b,L;let e=J(),{id:r=`headlessui-combobox-option-${e}`,disabled:i=!1,value:s,...n}=t,d=N(\"Combobox.Option\"),o=$(\"Combobox.Option\"),u=d.activeOptionIndex!==null?d.options[d.activeOptionIndex].id===r:!1,P=d.isSelected(s),f=E(null),g=Oe({disabled:i,value:s,domRef:f,textValue:(L=(b=f.current)==null?void 0:b.textContent)==null?void 0:L.toLowerCase()}),m=W(l,f),O=x(()=>o.selectOption(r));_(()=>o.registerOption(r,g),[g,r]);let c=E(!d.__demoMode);_(()=>{if(!d.__demoMode)return;let y=be();return y.requestAnimationFrame(()=>{c.current=!0}),y.dispose},[]),_(()=>{if(d.comboboxState!==0||!u||!c.current||d.activationTrigger===0)return;let y=be();return y.requestAnimationFrame(()=>{var a,I;(I=(a=f.current)==null?void 0:a.scrollIntoView)==null||I.call(a,{block:\"nearest\"})}),y.dispose},[f,u,d.comboboxState,d.activationTrigger,d.activeOptionIndex]);let C=x(y=>{if(i)return y.preventDefault();O(),d.mode===0&&o.closeCombobox(),he()||requestAnimationFrame(()=>{var a;return(a=d.inputRef.current)==null?void 0:a.focus()})}),G=x(()=>{if(i)return o.goToOption(R.Nothing);o.goToOption(R.Specific,r)}),F=Me(),M=x(y=>F.update(y)),h=x(y=>{F.wasMoved(y)&&(i||u||o.goToOption(R.Specific,r,0))}),B=x(y=>{F.wasMoved(y)&&(i||u&&(d.optionsPropsRef.current.hold||o.goToOption(R.Nothing)))}),D=V(()=>({active:u,selected:P,disabled:i}),[u,P,i]);return w({ourProps:{id:r,ref:m,role:\"option\",tabIndex:i===!0?void 0:-1,\"aria-disabled\":i===!0?!0:void 0,\"aria-selected\":P,disabled:void 0,onClick:C,onFocus:G,onPointerEnter:M,onMouseEnter:M,onPointerMove:h,onMouseMove:h,onPointerLeave:B,onMouseLeave:B},theirProps:n,slot:D,defaultTag:ze,name:\"Combobox.Option\"})}let oo=k(Xe),to=k(We),no=k(Ke),ro=k(qe),ao=k(Ze),lo=k(eo),Jo=Object.assign(oo,{Input:no,Button:to,Label:ro,Options:ao,Option:lo});export{Jo as Combobox};\n"]},"metadata":{},"sourceType":"module"}