{"ast":null,"code":"import d, { Fragment as K, createContext as Q, useContext as J, useEffect as P, useMemo as Y, useRef as f, useState as X } from \"react\";\nimport { Features as de, forwardRefWithAs as W, render as Z, RenderStrategy as E } from '../../utils/render.js';\nimport { OpenClosedProvider as fe, State as b, useOpenClosed as $ } from '../../internal/open-closed.js';\nimport { match as D } from '../../utils/match.js';\nimport { useIsMounted as pe } from '../../hooks/use-is-mounted.js';\nimport { useIsoMorphicEffect as me } from '../../hooks/use-iso-morphic-effect.js';\nimport { useLatestValue as V } from '../../hooks/use-latest-value.js';\nimport { useServerHandoffComplete as ee } from '../../hooks/use-server-handoff-complete.js';\nimport { useSyncRefs as te } from '../../hooks/use-sync-refs.js';\nimport { useTransition as ce } from '../../hooks/use-transition.js';\nimport { useEvent as R } from '../../hooks/use-event.js';\nimport { useDisposables as he } from '../../hooks/use-disposables.js';\nimport { classNames as ve } from '../../utils/class-names.js';\nimport { env as ge } from '../../utils/env.js';\nimport { useFlags as Ce } from '../../hooks/use-flags.js';\n\nfunction S() {\n  let n = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n  return n.split(\" \").filter(t => t.trim().length > 1);\n}\n\nlet A = Q(null);\nA.displayName = \"TransitionContext\";\n\nvar Ee = (r => (r.Visible = \"visible\", r.Hidden = \"hidden\", r))(Ee || {});\n\nfunction be() {\n  let n = J(A);\n  if (n === null) throw new Error(\"A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.\");\n  return n;\n}\n\nfunction Se() {\n  let n = J(I);\n  if (n === null) throw new Error(\"A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.\");\n  return n;\n}\n\nlet I = Q(null);\nI.displayName = \"NestingContext\";\n\nfunction _(n) {\n  return \"children\" in n ? _(n.children) : n.current.filter(_ref => {\n    let {\n      el: t\n    } = _ref;\n    return t.current !== null;\n  }).filter(_ref2 => {\n    let {\n      state: t\n    } = _ref2;\n    return t === \"visible\";\n  }).length > 0;\n}\n\nfunction ne(n, t) {\n  let r = V(n),\n      o = f([]),\n      y = pe(),\n      N = he(),\n      p = R(function (s) {\n    let e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : E.Hidden;\n    let a = o.current.findIndex(_ref3 => {\n      let {\n        el: i\n      } = _ref3;\n      return i === s;\n    });\n    a !== -1 && (D(e, {\n      [E.Unmount]() {\n        o.current.splice(a, 1);\n      },\n\n      [E.Hidden]() {\n        o.current[a].state = \"hidden\";\n      }\n\n    }), N.microTask(() => {\n      var i;\n      !_(o) && y.current && ((i = r.current) == null || i.call(r));\n    }));\n  }),\n      x = R(s => {\n    let e = o.current.find(_ref4 => {\n      let {\n        el: a\n      } = _ref4;\n      return a === s;\n    });\n    return e ? e.state !== \"visible\" && (e.state = \"visible\") : o.current.push({\n      el: s,\n      state: \"visible\"\n    }), () => p(s, E.Unmount);\n  }),\n      m = f([]),\n      c = f(Promise.resolve()),\n      u = f({\n    enter: [],\n    leave: [],\n    idle: []\n  }),\n      h = R((s, e, a) => {\n    m.current.splice(0), t && (t.chains.current[e] = t.chains.current[e].filter(_ref5 => {\n      let [i] = _ref5;\n      return i !== s;\n    })), t == null || t.chains.current[e].push([s, new Promise(i => {\n      m.current.push(i);\n    })]), t == null || t.chains.current[e].push([s, new Promise(i => {\n      Promise.all(u.current[e].map(_ref6 => {\n        let [l, T] = _ref6;\n        return T;\n      })).then(() => i());\n    })]), e === \"enter\" ? c.current = c.current.then(() => t == null ? void 0 : t.wait.current).then(() => a(e)) : a(e);\n  }),\n      v = R((s, e, a) => {\n    Promise.all(u.current[e].splice(0).map(_ref7 => {\n      let [i, l] = _ref7;\n      return l;\n    })).then(() => {\n      var i;\n      (i = m.current.shift()) == null || i();\n    }).then(() => a(e));\n  });\n  return Y(() => ({\n    children: o,\n    register: x,\n    unregister: p,\n    onStart: h,\n    onStop: v,\n    wait: c,\n    chains: u\n  }), [x, p, o, h, v, u, c]);\n}\n\nfunction xe() {}\n\nlet Pe = [\"beforeEnter\", \"afterEnter\", \"beforeLeave\", \"afterLeave\"];\n\nfunction re(n) {\n  var r;\n  let t = {};\n\n  for (let o of Pe) t[o] = (r = n[o]) != null ? r : xe;\n\n  return t;\n}\n\nfunction Re(n) {\n  let t = f(re(n));\n  return P(() => {\n    t.current = re(n);\n  }, [n]), t;\n}\n\nlet ye = \"div\",\n    ie = de.RenderStrategy;\n\nfunction Ne(n, t) {\n  let {\n    beforeEnter: r,\n    afterEnter: o,\n    beforeLeave: y,\n    afterLeave: N,\n    enter: p,\n    enterFrom: x,\n    enterTo: m,\n    entered: c,\n    leave: u,\n    leaveFrom: h,\n    leaveTo: v,\n    ...s\n  } = n,\n      e = f(null),\n      a = te(e, t),\n      i = s.unmount ? E.Unmount : E.Hidden,\n      {\n    show: l,\n    appear: T,\n    initial: se\n  } = be(),\n      [g, M] = X(l ? \"visible\" : \"hidden\"),\n      z = Se(),\n      {\n    register: F,\n    unregister: L\n  } = z,\n      U = f(null);\n  P(() => F(e), [F, e]), P(() => {\n    if (i === E.Hidden && e.current) {\n      if (l && g !== \"visible\") {\n        M(\"visible\");\n        return;\n      }\n\n      return D(g, {\n        [\"hidden\"]: () => L(e),\n        [\"visible\"]: () => F(e)\n      });\n    }\n  }, [g, e, F, L, l, i]);\n  let j = V({\n    enter: S(p),\n    enterFrom: S(x),\n    enterTo: S(m),\n    entered: S(c),\n    leave: S(u),\n    leaveFrom: S(h),\n    leaveTo: S(v)\n  }),\n      O = Re({\n    beforeEnter: r,\n    afterEnter: o,\n    beforeLeave: y,\n    afterLeave: N\n  }),\n      k = ee();\n  P(() => {\n    if (k && g === \"visible\" && e.current === null) throw new Error(\"Did you forget to passthrough the `ref` to the actual DOM node?\");\n  }, [e, g, k]);\n\n  let G = se && !T,\n      ae = (() => !k || G || U.current === l ? \"idle\" : l ? \"enter\" : \"leave\")(),\n      H = Ce(0),\n      le = R(C => D(C, {\n    enter: () => {\n      H.addFlag(b.Opening), O.current.beforeEnter();\n    },\n    leave: () => {\n      H.addFlag(b.Closing), O.current.beforeLeave();\n    },\n    idle: () => {}\n  })),\n      ue = R(C => D(C, {\n    enter: () => {\n      H.removeFlag(b.Opening), O.current.afterEnter();\n    },\n    leave: () => {\n      H.removeFlag(b.Closing), O.current.afterLeave();\n    },\n    idle: () => {}\n  })),\n      w = ne(() => {\n    M(\"hidden\"), L(e);\n  }, z);\n\n  ce({\n    container: e,\n    classes: j,\n    direction: ae,\n    onStart: V(C => {\n      w.onStart(e, C, le);\n    }),\n    onStop: V(C => {\n      w.onStop(e, C, ue), C === \"leave\" && !_(w) && (M(\"hidden\"), L(e));\n    })\n  }), P(() => {\n    G && (i === E.Hidden ? U.current = null : U.current = l);\n  }, [l, G, g]);\n  let B = s,\n      Te = {\n    ref: a\n  };\n  return T && l && ge.isServer && (B = { ...B,\n    className: ve(s.className, ...j.current.enter, ...j.current.enterFrom)\n  }), d.createElement(I.Provider, {\n    value: w\n  }, d.createElement(fe, {\n    value: D(g, {\n      [\"visible\"]: b.Open,\n      [\"hidden\"]: b.Closed\n    }) | H.flags\n  }, Z({\n    ourProps: Te,\n    theirProps: B,\n    defaultTag: ye,\n    features: ie,\n    visible: g === \"visible\",\n    name: \"Transition.Child\"\n  })));\n}\n\nfunction He(n, t) {\n  let {\n    show: r,\n    appear: o = !1,\n    unmount: y,\n    ...N\n  } = n,\n      p = f(null),\n      x = te(p, t);\n  ee();\n  let m = $();\n  if (r === void 0 && m !== null && (r = (m & b.Open) === b.Open), ![!0, !1].includes(r)) throw new Error(\"A <Transition /> is used but it is missing a `show={true | false}` prop.\");\n  let [c, u] = X(r ? \"visible\" : \"hidden\"),\n      h = ne(() => {\n    u(\"hidden\");\n  }),\n      [v, s] = X(!0),\n      e = f([r]);\n  me(() => {\n    v !== !1 && e.current[e.current.length - 1] !== r && (e.current.push(r), s(!1));\n  }, [e, r]);\n  let a = Y(() => ({\n    show: r,\n    appear: o,\n    initial: v\n  }), [r, o, v]);\n  P(() => {\n    if (r) u(\"visible\");else if (!_(h)) u(\"hidden\");else {\n      let l = p.current;\n      if (!l) return;\n      let T = l.getBoundingClientRect();\n      T.x === 0 && T.y === 0 && T.width === 0 && T.height === 0 && u(\"hidden\");\n    }\n  }, [r, h]);\n  let i = {\n    unmount: y\n  };\n  return d.createElement(I.Provider, {\n    value: h\n  }, d.createElement(A.Provider, {\n    value: a\n  }, Z({\n    ourProps: { ...i,\n      as: K,\n      children: d.createElement(oe, {\n        ref: x,\n        ...i,\n        ...N\n      })\n    },\n    theirProps: {},\n    defaultTag: K,\n    features: ie,\n    visible: c === \"visible\",\n    name: \"Transition\"\n  })));\n}\n\nfunction De(n, t) {\n  let r = J(A) !== null,\n      o = $() !== null;\n  return d.createElement(d.Fragment, null, !r && o ? d.createElement(q, {\n    ref: t,\n    ...n\n  }) : d.createElement(oe, {\n    ref: t,\n    ...n\n  }));\n}\n\nlet q = W(He),\n    oe = W(Ne),\n    Fe = W(De),\n    tt = Object.assign(q, {\n  Child: Fe,\n  Root: q\n});\nexport { tt as Transition };","map":{"version":3,"sources":["D:/Code/react+node/blog/client/node_modules/@headlessui/react/dist/components/transitions/transition.js"],"names":["d","Fragment","K","createContext","Q","useContext","J","useEffect","P","useMemo","Y","useRef","f","useState","X","Features","de","forwardRefWithAs","W","render","Z","RenderStrategy","E","OpenClosedProvider","fe","State","b","useOpenClosed","$","match","D","useIsMounted","pe","useIsoMorphicEffect","me","useLatestValue","V","useServerHandoffComplete","ee","useSyncRefs","te","useTransition","ce","useEvent","R","useDisposables","he","classNames","ve","env","ge","useFlags","Ce","S","n","split","filter","t","trim","length","A","displayName","Ee","r","Visible","Hidden","be","Error","Se","I","_","children","current","el","state","ne","o","y","N","p","s","e","a","findIndex","i","Unmount","splice","microTask","call","x","find","push","m","c","Promise","resolve","u","enter","leave","idle","h","chains","all","map","l","T","then","wait","v","shift","register","unregister","onStart","onStop","xe","Pe","re","Re","ye","ie","Ne","beforeEnter","afterEnter","beforeLeave","afterLeave","enterFrom","enterTo","entered","leaveFrom","leaveTo","unmount","show","appear","initial","se","g","M","z","F","L","U","j","O","k","G","ae","H","le","C","addFlag","Opening","Closing","ue","removeFlag","w","container","classes","direction","B","Te","ref","isServer","className","createElement","Provider","value","Open","Closed","flags","ourProps","theirProps","defaultTag","features","visible","name","He","includes","getBoundingClientRect","width","height","as","oe","De","q","Fe","tt","Object","assign","Child","Root","Transition"],"mappings":"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","sourcesContent":["import d,{Fragment as K,createContext as Q,useContext as J,useEffect as P,useMemo as Y,useRef as f,useState as X}from\"react\";import{Features as de,forwardRefWithAs as W,render as Z,RenderStrategy as E}from'../../utils/render.js';import{OpenClosedProvider as fe,State as b,useOpenClosed as $}from'../../internal/open-closed.js';import{match as D}from'../../utils/match.js';import{useIsMounted as pe}from'../../hooks/use-is-mounted.js';import{useIsoMorphicEffect as me}from'../../hooks/use-iso-morphic-effect.js';import{useLatestValue as V}from'../../hooks/use-latest-value.js';import{useServerHandoffComplete as ee}from'../../hooks/use-server-handoff-complete.js';import{useSyncRefs as te}from'../../hooks/use-sync-refs.js';import{useTransition as ce}from'../../hooks/use-transition.js';import{useEvent as R}from'../../hooks/use-event.js';import{useDisposables as he}from'../../hooks/use-disposables.js';import{classNames as ve}from'../../utils/class-names.js';import{env as ge}from'../../utils/env.js';import{useFlags as Ce}from'../../hooks/use-flags.js';function S(n=\"\"){return n.split(\" \").filter(t=>t.trim().length>1)}let A=Q(null);A.displayName=\"TransitionContext\";var Ee=(r=>(r.Visible=\"visible\",r.Hidden=\"hidden\",r))(Ee||{});function be(){let n=J(A);if(n===null)throw new Error(\"A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.\");return n}function Se(){let n=J(I);if(n===null)throw new Error(\"A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.\");return n}let I=Q(null);I.displayName=\"NestingContext\";function _(n){return\"children\"in n?_(n.children):n.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t===\"visible\").length>0}function ne(n,t){let r=V(n),o=f([]),y=pe(),N=he(),p=R((s,e=E.Hidden)=>{let a=o.current.findIndex(({el:i})=>i===s);a!==-1&&(D(e,{[E.Unmount](){o.current.splice(a,1)},[E.Hidden](){o.current[a].state=\"hidden\"}}),N.microTask(()=>{var i;!_(o)&&y.current&&((i=r.current)==null||i.call(r))}))}),x=R(s=>{let e=o.current.find(({el:a})=>a===s);return e?e.state!==\"visible\"&&(e.state=\"visible\"):o.current.push({el:s,state:\"visible\"}),()=>p(s,E.Unmount)}),m=f([]),c=f(Promise.resolve()),u=f({enter:[],leave:[],idle:[]}),h=R((s,e,a)=>{m.current.splice(0),t&&(t.chains.current[e]=t.chains.current[e].filter(([i])=>i!==s)),t==null||t.chains.current[e].push([s,new Promise(i=>{m.current.push(i)})]),t==null||t.chains.current[e].push([s,new Promise(i=>{Promise.all(u.current[e].map(([l,T])=>T)).then(()=>i())})]),e===\"enter\"?c.current=c.current.then(()=>t==null?void 0:t.wait.current).then(()=>a(e)):a(e)}),v=R((s,e,a)=>{Promise.all(u.current[e].splice(0).map(([i,l])=>l)).then(()=>{var i;(i=m.current.shift())==null||i()}).then(()=>a(e))});return Y(()=>({children:o,register:x,unregister:p,onStart:h,onStop:v,wait:c,chains:u}),[x,p,o,h,v,u,c])}function xe(){}let Pe=[\"beforeEnter\",\"afterEnter\",\"beforeLeave\",\"afterLeave\"];function re(n){var r;let t={};for(let o of Pe)t[o]=(r=n[o])!=null?r:xe;return t}function Re(n){let t=f(re(n));return P(()=>{t.current=re(n)},[n]),t}let ye=\"div\",ie=de.RenderStrategy;function Ne(n,t){let{beforeEnter:r,afterEnter:o,beforeLeave:y,afterLeave:N,enter:p,enterFrom:x,enterTo:m,entered:c,leave:u,leaveFrom:h,leaveTo:v,...s}=n,e=f(null),a=te(e,t),i=s.unmount?E.Unmount:E.Hidden,{show:l,appear:T,initial:se}=be(),[g,M]=X(l?\"visible\":\"hidden\"),z=Se(),{register:F,unregister:L}=z,U=f(null);P(()=>F(e),[F,e]),P(()=>{if(i===E.Hidden&&e.current){if(l&&g!==\"visible\"){M(\"visible\");return}return D(g,{[\"hidden\"]:()=>L(e),[\"visible\"]:()=>F(e)})}},[g,e,F,L,l,i]);let j=V({enter:S(p),enterFrom:S(x),enterTo:S(m),entered:S(c),leave:S(u),leaveFrom:S(h),leaveTo:S(v)}),O=Re({beforeEnter:r,afterEnter:o,beforeLeave:y,afterLeave:N}),k=ee();P(()=>{if(k&&g===\"visible\"&&e.current===null)throw new Error(\"Did you forget to passthrough the `ref` to the actual DOM node?\")},[e,g,k]);let G=se&&!T,ae=(()=>!k||G||U.current===l?\"idle\":l?\"enter\":\"leave\")(),H=Ce(0),le=R(C=>D(C,{enter:()=>{H.addFlag(b.Opening),O.current.beforeEnter()},leave:()=>{H.addFlag(b.Closing),O.current.beforeLeave()},idle:()=>{}})),ue=R(C=>D(C,{enter:()=>{H.removeFlag(b.Opening),O.current.afterEnter()},leave:()=>{H.removeFlag(b.Closing),O.current.afterLeave()},idle:()=>{}})),w=ne(()=>{M(\"hidden\"),L(e)},z);ce({container:e,classes:j,direction:ae,onStart:V(C=>{w.onStart(e,C,le)}),onStop:V(C=>{w.onStop(e,C,ue),C===\"leave\"&&!_(w)&&(M(\"hidden\"),L(e))})}),P(()=>{G&&(i===E.Hidden?U.current=null:U.current=l)},[l,G,g]);let B=s,Te={ref:a};return T&&l&&ge.isServer&&(B={...B,className:ve(s.className,...j.current.enter,...j.current.enterFrom)}),d.createElement(I.Provider,{value:w},d.createElement(fe,{value:D(g,{[\"visible\"]:b.Open,[\"hidden\"]:b.Closed})|H.flags},Z({ourProps:Te,theirProps:B,defaultTag:ye,features:ie,visible:g===\"visible\",name:\"Transition.Child\"})))}function He(n,t){let{show:r,appear:o=!1,unmount:y,...N}=n,p=f(null),x=te(p,t);ee();let m=$();if(r===void 0&&m!==null&&(r=(m&b.Open)===b.Open),![!0,!1].includes(r))throw new Error(\"A <Transition /> is used but it is missing a `show={true | false}` prop.\");let[c,u]=X(r?\"visible\":\"hidden\"),h=ne(()=>{u(\"hidden\")}),[v,s]=X(!0),e=f([r]);me(()=>{v!==!1&&e.current[e.current.length-1]!==r&&(e.current.push(r),s(!1))},[e,r]);let a=Y(()=>({show:r,appear:o,initial:v}),[r,o,v]);P(()=>{if(r)u(\"visible\");else if(!_(h))u(\"hidden\");else{let l=p.current;if(!l)return;let T=l.getBoundingClientRect();T.x===0&&T.y===0&&T.width===0&&T.height===0&&u(\"hidden\")}},[r,h]);let i={unmount:y};return d.createElement(I.Provider,{value:h},d.createElement(A.Provider,{value:a},Z({ourProps:{...i,as:K,children:d.createElement(oe,{ref:x,...i,...N})},theirProps:{},defaultTag:K,features:ie,visible:c===\"visible\",name:\"Transition\"})))}function De(n,t){let r=J(A)!==null,o=$()!==null;return d.createElement(d.Fragment,null,!r&&o?d.createElement(q,{ref:t,...n}):d.createElement(oe,{ref:t,...n}))}let q=W(He),oe=W(Ne),Fe=W(De),tt=Object.assign(q,{Child:Fe,Root:q});export{tt as Transition};\n"]},"metadata":{},"sourceType":"module"}